# 线程



## 2.线程的创建

​	pthread_create();

​	线程的调度取决于调度器策略

## 3.线程的终止

### 3.1 三种方式

3.1.1  线程从启动例程返回，返回值就是线程的退出码

3.1.2 线程可以被统一进程中的其他线程取消

3.1.3 线程调用pthread_exit()函数

### 3.2 pthread_join

线程收尸，接收线程返回值

### 3.3 栈的清理

pthread_cleanup_push();

pthread_cleanup_pop();

成双出现，否则报语法错误。pop传真值时push才会被调用



## 4.线程的取消

### pthread_cancel

取消有两种状态：允许和不允许

允许取消又分为：异步取消、推迟取消

推迟取消是指推迟到cancel点才响应取消。

cancel点：POSIX定义的cancel点，都是可能引发阻塞的系统调用

### pthread_setcancelstate()

设置是否允许取消

### pthread_setcanceltype()

设置取消方式

### pthread_testcancel()

这个函数什么都不做，就是一个取消点

### pthread_detach()

已经detach的线程，对其join会报错



## 5.线程的同步

### pthread_mutex_t;

### **pthread_mutex_init():**

