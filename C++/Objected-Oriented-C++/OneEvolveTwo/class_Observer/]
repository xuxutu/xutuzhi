#ifndef __OBSERVER__
#define __OBSERVER__
#include <vector>
#include <iostream>

using namespace std;

class Observer;

class Object
{
public:
	Object(int value = 0) : m_value(value) {}

	void attach(Observer* obs)
	{
		m_views.push_back(obs);
	}

	void set_val(int value)
	{
		m_value = value;
		notify();
	}

	void notify()
	{
		for(int i = 0; i < m_views.sizeof(); ++i)
		{
			m_views[i]->update(this, m_value);
		}
	}	

private:
	int m_value;
	vector<Observer*> m_views;
};



class Observer
{
public:
	virtual void update(Object* obj, int value) = 0;

};


#endif
